{
  "prelude": [
    "import * as Types from '../constants/types/login'",
    "import HiddenString from '../util/hidden-string'"
  ],
  "actions": {
    "login": {
      "usernameOrEmail": "string",
      "passphrase": "HiddenString"
    },
    "startLogin": {},
    "submitUsernameOrEmail": { "usernameOrEmail": "string" },
    "submitPassphrase": { "passphrase": "HiddenString", },
    "showDeviceList": {
      "_description": "Show the list of devices the user can use to provision a device",
      "canSelectNoDevice": "boolean",
      "devices": "Array<Types.Device>"
    },
    "showNewDeviceName": {
      "_description": "Ask the user for a new device name",
      "existingDevices": "Array<string>",
      "error": "string"
    },

    // TODO remove
    "onBack": {},
    "onFinish": {},
    "qrScanned": { "phrase": "HiddenString" },
    "provisionTextCodeEntered": { "phrase": "HiddenString" },
    "provisionDeviceSelect": { "name": "string" },
    "provisionPasswordInsteadOfDevice": {},
    "chooseGPGMethod": { "exportKey": "boolean" },
    "submitDeviceName": { "deviceName": "string" },
    "launchAccountResetWebPage": {},
    "launchForgotPasswordWebPage": {},
    "setTextCode": { "textCode": "HiddenString" },
    "loginError": { "error": "string" },
    "provisioningError": { "error": "Error" },
    "logout": {},
    "addNewDevice": { "otherDeviceType": ["'desktop'", "'phone'", "'paperkey'"] },
    "logoutDone": {},
    "navBasedOnLoginAndInitialState": {},
    "setRevokedSelf": { "revoked": "string" },
    "setDeletedSelf": { "deletedUsername": "string" },
    "configuredAccounts": {
      "accounts": "?Array<{|hasStoredSecret: boolean, username: string|}>",
      "canError": { "error": "Error" }
    }
  }
}
